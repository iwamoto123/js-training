import { knock } from "../src/knock046.js";

describe("No. 46 入場料", () => {
  test("入力例1: 通常料金 (大人2人、子供3人)", () => {
    expect(knock(2, 3)).toBe("3500 yen");
  });

  test("入力例2: 団体割引適用 (大人5人、子供7人)", () => {
    // 通常料金: (5 × 1000) + (7 × 500) = 8500円
    // 12人で団体割引20%適用: 8500 × 0.8 = 6800円
    expect(knock(5, 7)).toBe("6800 yen");
  });

  test("団体割引境界値: 合計9人 (大人5人、子供4人)", () => {
    // 9人なので割引なし: (5 × 1000) + (4 × 500) = 7000円
    expect(knock(5, 4)).toBe("7000 yen");
  });

  test("団体割引境界値: 合計10人 (大人6人、子供4人)", () => {
    // 10人で割引適用: ((6 × 1000) + (4 × 500)) × 0.8 = 7200円
    expect(knock(6, 4)).toBe("7200 yen");
  });

  test("大人のみの団体 (大人10人、子供0人)", () => {
    // 10人で割引適用: (10 × 1000) × 0.8 = 8000円
    expect(knock(10, 0)).toBe("8000 yen");
  });

  test("子供のみの団体 (大人0人、子供10人)", () => {
    // 10人で割引適用: (10 × 500) × 0.8 = 4000円
    expect(knock(0, 10)).toBe("4000 yen");
  });

  test("エラーケース: 負の人数", () => {
    expect(() => knock(-1, 0)).toThrow("人数は0以上の値を入力してください");
    expect(() => knock(0, -1)).toThrow("人数は0以上の値を入力してください");
    expect(() => knock(-1, -1)).toThrow("人数は0以上の値を入力してください");
  });
});
